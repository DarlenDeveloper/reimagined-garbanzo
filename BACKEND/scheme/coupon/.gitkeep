# Coupon & Promo Service Schema
# Manages discount codes, promotional campaigns, and coupon redemption
# ğŸ” BUYER USAGE FILTERED BY: auth.user_id â†’ buyer_id

## Tables:
# - coupons (coupon_id, code, type[percentage/fixed], value, min_order, max_discount, usage_limit, used_count, vendor_id, start_date, end_date, status, created_at)
# - coupon_usage (usage_id, coupon_id, buyer_id [FK: buyers.buyer_id], order_id, discount_amount, used_at)
# - promo_campaigns (campaign_id, vendor_id, name, description, discount_percent, promo_code, start_date, end_date, status)

## Auth Filtering:
# - GET /my-coupons â†’ WHERE buyer_id = auth.user_id (used coupons)
# - POST /coupons/apply â†’ Validate and INSERT usage with buyer_id = auth.user_id
# - Check usage limit per buyer

## Features:
# - Vendor-specific coupons
# - Platform-wide promotions
# - Usage tracking and limits
# - Auto-expiration
# - Social post promo codes (from SocialPost.promoCode)
# - Per-buyer usage limits
